(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{319:function(a,t,s){"use strict";s.r(t);var e=s(5),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("Une procédure fonctionnelle pour configurer "),t("a",{attrs:{href:"http://behat.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Behat"),t("OutboundLink")],1),a._v(" et Symfony, de la création du projet aux premiers scénarios.")]),a._v(" "),t("h3",{attrs:{id:"creation-du-projet-symfony"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creation-du-projet-symfony"}},[a._v("#")]),a._v(" Création du projet symfony")]),a._v(" "),t("p",[a._v("Créer un projet symfony, nommé ici "),t("em",[a._v("symfony-behat")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" https://getcomposer.org/installer "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" php\n$ php composer.phar create-project symfony/framework-standard-edition symfony-behat "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.4")]),a._v(".* "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" composer.phar symfony-behat/\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" symfony-behat/\n")])])]),t("p",[a._v("Créer un bundle, nommé ici "),t("em",[a._v("Acme/BehatBundle")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ php app/console generate:bundle "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Acme/BehatBundle "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("src "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                  --no-interaction\n")])])]),t("h3",{attrs:{id:"installation-de-behat-mink-extensions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation-de-behat-mink-extensions"}},[a._v("#")]),a._v(" Installation de Behat, Mink & extensions")]),a._v(" "),t("p",[a._v("Ajouter et installer Behat, "),t("a",{attrs:{href:"http://mink.behat.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Mink"),t("OutboundLink")],1),a._v(" et leurs extensions")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ php composer.phar require "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dev")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/behat:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/mink:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/symfony2-extension:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/mink-extension:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/mink-browserkit-driver:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v("\n")])])]),t("h3",{attrs:{id:"configuration-de-behat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-de-behat"}},[a._v("#")]),a._v(" Configuration de behat")]),a._v(" "),t("p",[a._v("Activer les extensions en créant un fichier "),t("strong",[a._v("behat.yml")]),a._v(" à la racine du projet, contenant ces lignes")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("extensions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("Behat\\Symfony2Extension\\Extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mink_driver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("bundle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" AcmeBehatBundle\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("Behat\\MinkExtension\\Extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("default_session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'symfony2'")]),a._v("\n")])])]),t("p",[a._v("Initialiser behat pour le bundle voulu")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--init")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@AcmeBehatBundle"')]),a._v("\n")])])]),t("p",[a._v("Remplacer dans le fichier "),t("strong",[a._v("src/Acme/BehatBundle/Features/Context/FeatureContext.php")])]),a._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("FeatureContext")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BehatContext")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//MinkContext if you want to test web")]),a._v("\n                  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("KernelAwareInterface")]),a._v("\n")])])])]),t("p",[a._v("... par ...")]),a._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[a._v("FeatureContext")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MinkContext")]),a._v("\n                  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("KernelAwareInterface")]),a._v("\n")])])])]),t("h3",{attrs:{id:"premier-test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#premier-test"}},[a._v("#")]),a._v(" Premier test")]),a._v(" "),t("p",[a._v("Créer le fichier "),t("strong",[a._v("src/Acme/BehatBundle/Features/hello.feature")]),a._v(" contenant ces lignes")]),a._v(" "),t("div",{staticClass:"language-gherkin extra-class"},[t("pre",{pre:!0,attrs:{class:"language-gherkin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token feature"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Feature:")]),t("span",{pre:!0,attrs:{class:"token important"}},[a._v(" L'application doit dire bonjour")]),a._v("\n  Pour utiliser behat\n  En tant que dev ou client\n  Je dois essayer\n")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token scenario"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Scenario:")]),t("span",{pre:!0,attrs:{class:"token important"}},[a._v(" La page hello world doit afficher hello world")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("Given")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("I")]),a._v(" am on "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/hello/World"')]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("Then")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("I")]),a._v(" should see "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("\n")])])]),t("p",[a._v("Lancer Behat")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat\n")])])]),t("p",[a._v("Et savourer: l'application fonctionne comme prévu")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("Feature: L'application doit dire bonjour\n  Pour utiliser behat\n  En tant que dev ou client\n  Je dois essayer\n\n  Scenario: La page hello world doit afficher hello world "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# src/Acme/BehatBundle/Features/hello.feature:6")]),a._v("\n    Given I am on "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/hello/World"')]),a._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::visit()")]),a._v("\n    Then I should see "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::assertPageContainsText()")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" scénario "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" succès"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" étapes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" succès"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n0m0.165s\n")])])]),t("p",[a._v("A ce stade, Mink utilise un driver très rapide mais qui ne supporte pas le javascript.")]),a._v(" "),t("h3",{attrs:{id:"installation-de-phantomjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation-de-phantomjs"}},[a._v("#")]),a._v(" Installation de PhantomJS")]),a._v(" "),t("p",[a._v("L'installation de "),t("a",{attrs:{href:"http://phantomjs.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("PhantomJS"),t("OutboundLink")],1),a._v(" est faite par "),t("a",{attrs:{href:"https://npmjs.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("npm"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("Créer un fichier "),t("strong",[a._v("package.json")]),a._v(" à la racine du projet contenant ces lignes:")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"dependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"phantomjs"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("Lancer l'installation")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("p",[a._v("Ajouter le driver selenium2 au dépendances")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ php composer.phar require "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dev")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n                    behat/mink-selenium2-driver:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*@stable"')]),a._v("\n")])])]),t("p",[a._v("Modifier "),t("strong",[a._v("behat.yml")])]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("extensions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("Behat\\Symfony2Extension\\Extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mink_driver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("bundle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" AcmeBehatBundle\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("Behat\\MinkExtension\\Extension")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("default_session")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'symfony2'")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("base_url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'http://localhost:8000'")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("selenium2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wd_host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://localhost:8643/wd/hub"')]),a._v("\n")])])]),t("h3",{attrs:{id:"test-avec-phantomjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-avec-phantomjs"}},[a._v("#")]),a._v(" Test avec PhantomJS")]),a._v(" "),t("p",[a._v("Ajouter un scénario avec le tag "),t("strong",[a._v("@javascript")]),a._v(" dans le fichier "),t("strong",[a._v("src/Acme/BehatBundle/Features/hello.feature")])]),a._v(" "),t("div",{staticClass:"language-gherkin extra-class"},[t("pre",{pre:!0,attrs:{class:"language-gherkin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[a._v("@javascript")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token scenario"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Scenario:")]),t("span",{pre:!0,attrs:{class:"token important"}},[a._v(" La page hello world doit afficher hello world avec phantomjs")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("Given")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("I")]),a._v(" am on "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/hello/World"')]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("Then")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token atrule"}},[a._v("I")]),a._v(" should see "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("\n")])])]),t("p",[a._v("Lancer le serveur php")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ php app/console server:run\n")])])]),t("p",[a._v("Lancer PhantomJS")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./node_modules/.bin/phantomjs "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--webdriver")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8643")]),a._v("\n")])])]),t("p",[a._v("Et une nouvelle fois, savourez")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat\nFeature: L'application doit dire bonjour\n  Pour utiliser behat\n  En tant que dev ou client\n  Je dois essayer\n\n  Scenario: La page hello world doit afficher hello world "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# src/Acme/BehatBundle/Features/hello.feature:6")]),a._v("\n    Given I am on "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/hello/World"')]),a._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::visit()")]),a._v("\n    Then I should see "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::assertPageContainsText()")]),a._v("\n\n  @javascript\n  Scenario: La page hello world doit afficher hello world avec phantomjs "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# src/Acme/BehatBundle/Features/hello.feature:11")]),a._v("\n    Given I am on "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/hello/World"')]),a._v("                                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::visit()")]),a._v("\n    Then I should see "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Acme\\BehatBundle\\Features\\Context\\FeatureContext::assertPageContainsText()")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" scénarios "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" succès"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(" étapes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(" succès"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n0m0.267s\n")])])]),t("h3",{attrs:{id:"commandes-utiles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commandes-utiles"}},[a._v("#")]),a._v(" Commandes utiles")]),a._v(" "),t("p",[a._v("Afficher les résultats détaillés")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("pretty\n")])])]),t("p",[a._v("Afficher les résultats sans les détails (un point par étape)")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("progress\n")])])]),t("p",[a._v("Enregistrer les résultats dans le fichier "),t("em",[a._v("behat.html")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("html "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--out")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("behat.html\n")])])]),t("p",[a._v("Afficher un exemple de features")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat --story-syntax\n")])])]),t("p",[a._v("Afficher les étapes disponibles")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ ./bin/behat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-dl")]),a._v("\n")])])]),t("p",[a._v("Intégration continue avec "),t("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Travis"),t("OutboundLink")],1),a._v(" dans le fichier**.travis.yml**:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" php\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("php")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.4")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("before_script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" composer install "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" npm install\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" php app/console server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("run &\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./node_modules/.bin/phantomjs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("webdriver=8643 &\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./bin/behat "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("format=progress\n")])])]),t("h3",{attrs:{id:"liens"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#liens"}},[a._v("#")]),a._v(" Liens")]),a._v(" "),t("p",[a._v("Le code est disponible sur "),t("a",{attrs:{href:"https://github.com/bpaulin/symfony-behat",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub"),t("OutboundLink")],1),a._v(" et le build sur travis: "),t("a",{attrs:{href:"https://travis-ci.org/bpaulin/symfony-behat",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://travis-ci.org/bpaulin/symfony-behat.png?branch=master",alt:"Build Status"}}),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);
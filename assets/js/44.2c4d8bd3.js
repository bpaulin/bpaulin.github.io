(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{340:function(t,a,s){"use strict";s.r(a);var e=s(5),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/bpaulin/modern-toolbox-java/tree/3bfaca2dde05cc9d3f2abbe057d585c8fb917245",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code associé à cet article"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v('"Dis moi papy, comment tu faisais du dev quand t\'étais jeune?"')]),t._v(" "),a("p",[t._v('"Installe toi petit, je vais te raconter une histoire avec virtualbox, vagrant et ansible"')]),t._v(" "),a("p",[t._v("\"Pffff ca a l'air nul, moi j'aime les histoires avec docker\"")]),t._v(" "),a("p",[t._v('"P\'tit con"')]),t._v(" "),a("p",[t._v("...")]),t._v(" "),a("p",[t._v("Mon métier d'ops a considérablement évolué en quelques années, et celui des devs aussi. il est temps de me remettre a jour sur ce que ce serait un setup de dev moderne.")]),t._v(" "),a("p",[t._v("Un env de dev doit comme d'habitude concilier 2 points pas forcement conciliables. D'un coté, il doit être simple et rapide à installer et a utiliser. D'un autre coté, il doit être aussi proche de la prod que possible.")]),t._v(" "),a("p",[t._v("Je suis fan des repos auto-portants ou un git clone suffit a avoir tout pour installer, tester, deployer, documenter etc. Si le setup consiste a cloner et a copier/coller des instructions ca remplira le critère 'simple et rapide a utiliser'.")]),t._v(" "),a("p",[t._v("La prod aujourd’hui c'est kubernetes parce que c'est bien et surtout parce que sinon ca m’intéresse plus et l'article s’arrête ici. Le setup doit donc permettre de pop un cluster local et de deployer l'app dessus, toujours facilement et rapidement.")]),t._v(" "),a("h2",{attrs:{id:"codons-en-java"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#codons-en-java"}},[t._v("#")]),t._v(" Codons en java")]),t._v(" "),a("p",[t._v("Le code qui sera outillé sera du java juste parce que je déteste java. j'y comprends rien, donc ca m’intéresse pas, donc j'y comprends rien etc. Le point est que si l'env de dev est utilisable par moi, il le sera par n'importe qui.")]),t._v(" "),a("p",[t._v("Donc c'est parti, je vais coder en java ...")]),t._v(" "),a("p",[t._v("Spring a la bonne idée d'avoir "),a("a",{attrs:{href:"https://start.spring.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("initialzr"),a("OutboundLink")],1),t._v(" qui permet de générer un projet rapidement sans la moindre compétence. La conf est même exportable via un lien avec les paramètres renseignés (group, artifact, dépendances etc) et celui de cet article est "),a("a",{attrs:{href:"https://start.spring.io/#!type=maven-project&language=java&platformVersion=2.7.1&packaging=jar&jvmVersion=17&groupId=net.bpaulin&artifactId=modern-toolbox&name=modern-toolbox&description=Modern%20toolbox%20for%20java&packageName=net.bpaulin.modern-toolbox&dependencies=web,actuator",target:"_blank",rel:"noopener noreferrer"}},[t._v("ici"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Dans un repo fraîchement créé, je télécharge le zip et renomme le projet en "),a("strong",[t._v("app")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" spring.zip "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://start.spring.io/starter.zip?type=maven-project&language=java&bootVersion=2.7.1&baseDir=modern-toolbox-java&groupId=net.bpaulin&artifactId=modern-toolbox-java&name=modern-toolbox-java&description=Modern%20toolbox%20for%20java&packageName=net.bpaulin.modern-toolbox-java&packaging=jar&javaVersion=17&dependencies=web,actuator'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v(" spring.zip\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" modern-toolbox-java app\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" spring.zip\n")])])]),a("p",[t._v("Pour vérifier que tout ce code difficilement écrit fonctionne, je passe dans le dossier et lance l'install du projet java.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" app\nmvn "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("p",[t._v("Et ainsi se terminer la partie java de cet article, c’était super.")]),t._v(" "),a("h2",{attrs:{id:"image-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#image-docker"}},[t._v("#")]),t._v(" Image Docker")]),t._v(" "),a("p",[t._v("Dockeriser une application passe par le classique ajout d'un dockerfile mais on va essayer de faire un peu plus moderne et intégré en utilisant "),a("a",{attrs:{href:"https://github.com/GoogleContainerTools/jib",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jib"),a("OutboundLink")],1),t._v(", proposé par google.")]),t._v(" "),a("blockquote",[a("p",[t._v("Jib builds optimized Docker and OCI images for your Java applications without a Docker daemon - and without deep mastery of Docker best-practices. It is available as plugins for Maven and Gradle and as a Java library.")])]),t._v(" "),a("p",[t._v("Pas de commandes docker a taper (plus rapide) ou meme a comprendre (plus simple), l'image docker devient un artefact du build java, comme un simple jar.")]),t._v(" "),a("p",[t._v("Jib ne nécessite pas d'install sur le poste, c'est simplement une dependance du projet à ajouter au "),a("strong",[t._v("pom.xml")]),t._v(" avec trois configuration importantes:")]),t._v(" "),a("ul",[a("li",[t._v("Le nom de l'image docker à créer: ici "),a("strong",[t._v("modern-toolbox-java")])]),t._v(" "),a("li",[t._v("L'image de base à utiliser, par exemple ici pour partir d'une "),a("strong",[t._v("eclipse-temurin:17.0.3_7-jre-alpine")])]),t._v(" "),a("li",[t._v("La phase de build ou on veut greffer le build de l'image, ici "),a("strong",[t._v("packages")])])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.google.cloud.tools"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jib-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("3.2.1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("modern-toolbox-java"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("eclipse-temurin:17.0.3_7-jre-alpine"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("executions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("execution")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("phase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("package"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("phase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dockerBuild"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("execution")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("executions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n")])])]),a("p",[t._v("Une fois jib configuré puis un "),a("code",[t._v("mvn clean package")]),t._v(" lancé, on peut vérifier que l'image est connu de notre docker:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" image "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" modern-toolbox-java "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" latest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# modern-toolbox-java                   latest                  bf5c41e987be   52 years ago    166MB")]),t._v("\n")])])]),a("p",[t._v("l'image peut être lancée a la main")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v("  modern-toolbox-java:latest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   .   ____          _            __ _ _")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   '  |____| .__|_| |_|_| |_\\__, | / / / /")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  =========|_|==============|___/=/_/_/_/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  :: Spring Boot ::                (v2.7.1)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n")])])]),a("h2",{attrs:{id:"kubernetes-local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-local"}},[t._v("#")]),t._v(" Kubernetes local")]),t._v(" "),a("p",[t._v("Maintenant qu'on a une image docker, il nous faut un cluster pour nous accueillir. La page "),a("a",{attrs:{href:"https://docs.tilt.dev/choosing_clusters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Choosing a Local Dev Cluster"),a("OutboundLink")],1),t._v(" du site de tilt présente bien les différentes possibilités.")]),t._v(" "),a("p",[t._v("Pour ce projet, on va utiliser "),a("a",{attrs:{href:"https://k3d.io/v5.4.3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("k3d"),a("OutboundLink")],1),t._v("  (k3s in docker). Les autres sont sûrement tres biens mais je les connais peu ou pas et k3d a plusieurs avantages:")]),t._v(" "),a("ul",[a("li",[t._v("Il se base sur "),a("a",{attrs:{href:"https://k3s.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("k3s"),a("OutboundLink")],1),t._v(" que j'utilise sur mon cluster et dont je suis très content (subjectif, je sais).")]),t._v(" "),a("li",[t._v("k3s est léger et fourni directement pas mal de composants a installer sur kube ("),a("a",{attrs:{href:"https://traefik.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("traefik"),a("OutboundLink")],1),t._v(" comme ingress controller par exemple).")]),t._v(" "),a("li",[t._v("Il ne nécessite qu'un binaire sur le poste (et un docker qui tourne bien sur)")]),t._v(" "),a("li",[t._v("Il est configurable via un fichier yaml versionnable par projet (plus simple et rapide)")])]),t._v(" "),a("p",[t._v("En parlant de fichier yaml, on crée un fichier "),a("strong",[t._v("k3d.yaml")]),t._v(" à la racine du projet avec le contenu suivant:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" k3d.io/v1alpha4\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Simple\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("agents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docker.io/rancher/k3s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1.21.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("k3s1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("registries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("registry\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("k3d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"60s"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kubeconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("updateDefaultKubeconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("switchCurrentContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),a("p",[t._v("Et toute l'installation et la configuration du cluster kube local devient une seule commande:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("k3d cluster create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" k3d.yaml\n")])])]),a("p",[t._v("Une fois la commande lancée notre context kube passe automatiquement vers le nouveau cluster, qui apparait dans la liste.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("k3d cluster list\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# NAME                  SERVERS   AGENTS   LOADBALANCER")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# modern-toolbox-java   1/1       0/0      true")]),t._v("\n")])])]),a("p",[t._v("La manipulation du cluster via terminal est intuitive")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("k3d cluster start modern-toolbox-java   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Démarrage")]),t._v("\nk3d cluster stop modern-toolbox-java    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Arrêt")]),t._v("\nk3d cluster delete modern-toolbox-java  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Destruction")]),t._v("\n")])])]),a("h1",{attrs:{id:"manifests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manifests"}},[t._v("#")]),t._v(" Manifests")]),t._v(" "),a("p",[t._v("Maintenant qu'on a quelque chose a deployer et quelque part où le déployer, il nous reste à définir comment on déploie.")]),t._v(" "),a("p",[t._v("On parlera peut être plus tard de chart voir de helmfile mais on va commencer par un "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/deployment/",target:"_blank",rel:"noopener noreferrer"}},[t._v("deployment kubernetes"),a("OutboundLink")],1),t._v(" simpliste.")]),t._v(" "),a("p",[t._v("Au même niveau que notre dossier "),a("strong",[t._v("app")]),t._v(", on crée le dossier "),a("strong",[t._v("deploy")]),t._v(" et un seul fichier: "),a("strong",[t._v("manifests.yaml")]),t._v(" qui décrit un pod simple sans replicas, n'ayant qu'un seul container issu de l'image construite précédemment.")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" modern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("toolbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n")])])]),a("h2",{attrs:{id:"tilt-pour-le-cd-local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tilt-pour-le-cd-local"}},[t._v("#")]),t._v(" Tilt pour le CD local")]),t._v(" "),a("p",[t._v("Tilt vient d'être racheté par docker, son rôle est de surveiller les sources d'une app et de lancer un build et un deploy quand ca bouge. Il fait pas grand chose, mais il le fait bien et il le fait vite. Leur département marketing le dit mieux que moi, évidemment:")]),t._v(" "),a("blockquote",[a("p",[t._v("A toolkit for fixing the pains of microservice development.")])]),t._v(" "),a("blockquote",[a("p",[t._v("Are your servers running locally? In Kubernetes? Both? Tilt gives you smart rebuilds and live updates everywhere so that you can make progress.")])]),t._v(" "),a("p",[t._v("A la racine du projet, dans un fichier "),a("strong",[t._v("Tiltfile")]),t._v(", on va préciser les étapes de build et de deploy.")]),t._v(" "),a("p",[t._v("Le build a trois arguments: le nom de l'image, la commande à lancer et les dossiers a surveiller")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("custom_build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'modern-toolbox-java'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mvn -f app/pom.xml compile jib:dockerBuild -Dimage=$EXPECTED_REF'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  deps"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app/src'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Le deploy est aussi simple que le manifest kube avec un seul argument")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("k8s_yaml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy/manifests.yaml'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Tout est prêt, il n'y a plus qu'à lancer tilt et le laisser travailler")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("tilt up\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Tilt started on http://localhost:10350/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# v0.30.0, built")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (space) to open the browser")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (s) to stream logs (--stream=true)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (t) to open legacy terminal mode (--legacy=true)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (ctrl-c) to exit")]),t._v("\n")])])]),a("p",[t._v("Comme indiqué dans le retour de tilt, on peut suivre les logs simplement en pressant "),a("code",[t._v("c")]),t._v(" et pour les plus amoureux de l'UI une jolie interface nous attends sur "),a("a",{attrs:{href:"http://localhost:10350/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:10350/"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"resume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resume"}},[t._v("#")]),t._v(" Résumé")]),t._v(" "),a("p",[t._v("Pour lancer un env de dev local, vous devez avoir sur votre poste:")]),t._v(" "),a("ul",[a("li",[t._v("docker, installé et accessible par votre user")]),t._v(" "),a("li",[t._v("mvn (c'est à dire que c'est un projet java, faites un effort)")]),t._v(" "),a("li",[t._v("k3d ("),a("a",{attrs:{href:"https://k3d.io/v5.4.3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docs"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://github.com/k3d-io/k3d/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install"),a("OutboundLink")],1),t._v(") pour le cluster local")]),t._v(" "),a("li",[t._v("tilt ("),a("a",{attrs:{href:"https://docs.tilt.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docs"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://github.com/tilt-dev/tilt/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install"),a("OutboundLink")],1),t._v(") pour le cd/cd")])]),t._v(" "),a("p",[t._v("Clonez le repo")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/bpaulin/modern-toolbox-java.git\n")])])]),a("p",[t._v("Démarrez le cluster")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("k3d cluster create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" k3d.yaml\n")])])]),a("p",[t._v("Lancez la surveillance")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("tilt up\n")])])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/bpaulin/modern-toolbox-java/tree/3bfaca2dde05cc9d3f2abbe057d585c8fb917245",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code associé à cet article"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);